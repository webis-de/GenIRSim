<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>GenIRSim</title>
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/editor.css">
<link rel="stylesheet" href="css/chat.css">
<link rel="stylesheet" href="css/messages.css">
<link rel="stylesheet" href="css/loader.css">
</head>
<body>

<h1>GenIRSim</h1>
<main>

<div id="configuration" class="pane"><h2>Configuration</h2>
<div class="drop-zone" data-target="configuration">upload: drop here or <label for="picker">browse</label><input type="file" id="picker" name="configuration" accept="text/plain, application/json"></div>
<div class="buttons"><button id="download" type="button">download</a><button id="start" type="button">start</button></div>
<div id="editor"></div>
</div> <!-- #configuration -->

<div id="simulation" class="pane"><h2>Simulation</h2>
<div id="chat" class="area"></div>
</div> <!-- #simulation -->

<div id="log" class="pane"><h2>Log</h2>
<div id="messages" class="area"></div>
</div> <!-- #log -->

</main>
<script type="module">
import * as configuration from "./js/configuration.js";
import * as simulation from "./js/simulation.js";
configuration.loadFromUrl("configurations/discussion-configuration.json");
const picker = document.getElementById("picker");
picker.addEventListener("change", (event) => configuration.loadFromFile(picker));
document.getElementById("download").addEventListener("click",
  () => configuration.download());
document.getElementById("start").addEventListener("click",
  () => simulation.run(configuration.get()));
</script>
</body>
</html>
